import{R as K,a as e,j as s}from"./index-Dtn11p0_.js";const _={SMOOTH_TAU:.25,MIN_COPIES:2,COPY_HEADROOM:2},I=o=>typeof o=="number"?`${o}px`:o??void 0,p=(...o)=>o.filter(Boolean).join(" "),Q=(o,h,d)=>{e.useEffect(()=>{if(!window.ResizeObserver){const n=()=>o();return window.addEventListener("resize",n),o(),()=>window.removeEventListener("resize",n)}const i=h.map(n=>{if(!n.current)return null;const l=new ResizeObserver(o);return l.observe(n.current),l});return o(),()=>{i.forEach(n=>n?.disconnect())}},d)},V=(o,h,d)=>{e.useEffect(()=>{const i=o.current?.querySelectorAll("img")??[];if(i.length===0){h();return}let n=i.length;const l=()=>{n-=1,n===0&&h()};return i.forEach(c=>{const f=c;f.complete?l():(f.addEventListener("load",l,{once:!0}),f.addEventListener("error",l,{once:!0}))}),()=>{i.forEach(c=>{c.removeEventListener("load",l),c.removeEventListener("error",l)})}},d)},X=(o,h,d,i,n,l,c)=>{const f=e.useRef(null),M=e.useRef(null),g=e.useRef(0),m=e.useRef(0);e.useEffect(()=>{const w=o.current;if(!w)return;const z=typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,v=c?i:d;if(v>0){g.current=(g.current%v+v)%v;const u=c?`translate3d(0, ${-g.current}px, 0)`:`translate3d(${-g.current}px, 0, 0)`;w.style.transform=u}if(z)return w.style.transform="translate3d(0, 0, 0)",()=>{M.current=null};const N=u=>{M.current===null&&(M.current=u);const A=Math.max(0,u-M.current)/1e3;M.current=u;const R=n&&l!==void 0?l:h,y=1-Math.exp(-A/_.SMOOTH_TAU);if(m.current+=(R-m.current)*y,v>0){let L=g.current+m.current*A;L=(L%v+v)%v,g.current=L;const S=c?`translate3d(0, ${-g.current}px, 0)`:`translate3d(${-g.current}px, 0, 0)`;w.style.transform=S}f.current=requestAnimationFrame(N)};return f.current=requestAnimationFrame(N),()=>{f.current!==null&&(cancelAnimationFrame(f.current),f.current=null),M.current=null}},[h,d,i,n,l,c])},Z=K.memo(({logos:o,speed:h=120,direction:d="left",width:i="100%",logoHeight:n=28,gap:l=32,pauseOnHover:c,hoverSpeed:f,fadeOut:M=!1,fadeOutColor:g,scaleOnHover:m=!1,renderItem:w,ariaLabel:z="Partner logos",className:v,style:N})=>{const u=e.useRef(null),A=e.useRef(null),R=e.useRef(null),[y,L]=e.useState(0),[S,P]=e.useState(0),[O,$]=e.useState(_.MIN_COPIES),[T,q]=e.useState(!1),j=e.useMemo(()=>{if(f!==void 0)return f;if(c===!0)return 0;if(c!==!1)return 0},[f,c]),r=d==="up"||d==="down",D=e.useMemo(()=>{const t=Math.abs(h);let a;r?a=d==="up"?1:-1:a=d==="left"?1:-1;const x=h<0?-1:1;return t*a*x},[h,d,r]),k=e.useCallback(()=>{const t=u.current?.clientWidth??0,a=R.current?.getBoundingClientRect?.(),x=a?.width??0,b=a?.height??0;if(r){const C=u.current?.parentElement?.clientHeight??0;if(u.current&&C>0){const E=Math.ceil(C);u.current.style.height!==`${E}px`&&(u.current.style.height=`${E}px`)}if(b>0){P(Math.ceil(b));const E=u.current?.clientHeight??C??b,J=Math.ceil(E/b)+_.COPY_HEADROOM;$(Math.max(_.MIN_COPIES,J))}}else if(x>0){L(Math.ceil(x));const C=Math.ceil(t/x)+_.COPY_HEADROOM;$(Math.max(_.MIN_COPIES,C))}},[r]);Q(k,[u,R],[o,l,n,r]),V(R,k,[o,l,n,r]),X(A,D,y,S,T,j,r);const F=e.useMemo(()=>({"--logoloop-gap":`${l}px`,"--logoloop-logoHeight":`${n}px`,...g&&{"--logoloop-fadeColor":g}}),[l,n,g]),W=e.useMemo(()=>p("relative group",r?"overflow-hidden h-full inline-block":"overflow-x-hidden","[--logoloop-gap:32px]","[--logoloop-logoHeight:28px]","[--logoloop-fadeColorAuto:#ffffff]","dark:[--logoloop-fadeColorAuto:#0b0b0b]",m&&"py-[calc(var(--logoloop-logoHeight)*0.1)]",v),[r,m,v]),Y=e.useCallback(()=>{j!==void 0&&q(!0)},[j]),B=e.useCallback(()=>{j!==void 0&&q(!1)},[j]),H=e.useCallback((t,a)=>{if(w)return s.jsx("li",{className:p("flex-none text-[length:var(--logoloop-logoHeight)] leading-[1]",r?"mb-[var(--logoloop-gap)]":"mr-[var(--logoloop-gap)]",m&&"overflow-visible group/item"),role:"listitem",children:w(t,a)},a);const x="node"in t,b=x?s.jsx("span",{className:p("inline-flex items-center","motion-reduce:transition-none",m&&"transition-transform duration-300 ease-[cubic-bezier(0.4,0,0.2,1)] group-hover/item:scale-120"),"aria-hidden":!!t.href&&!t.ariaLabel,children:t.node}):s.jsx("img",{className:p("h-[var(--logoloop-logoHeight)] w-auto block object-contain brightness-0 invert","[-webkit-user-drag:none] pointer-events-none","[image-rendering:-webkit-optimize-contrast]","motion-reduce:transition-none",m&&"transition-transform duration-300 ease-[cubic-bezier(0.4,0,0.2,1)] group-hover/item:scale-120"),src:t.src,srcSet:t.srcSet,sizes:t.sizes,width:t.width,height:t.height,alt:t.alt??"",title:t.title,loading:"lazy",decoding:"async",draggable:!1}),C=x?t.ariaLabel??t.title:t.alt??t.title,E=t.href?s.jsx("a",{className:p("inline-flex items-center no-underline rounded","transition-opacity duration-200 ease-linear","hover:opacity-80","focus-visible:outline focus-visible:outline-current focus-visible:outline-offset-2"),href:t.href,"aria-label":C||"logo link",target:"_blank",rel:"noreferrer noopener",children:b}):b;return s.jsx("li",{className:p("flex-none text-[length:var(--logoloop-logoHeight)] leading-[1]",r?"mb-[var(--logoloop-gap)]":"mr-[var(--logoloop-gap)]",m&&"overflow-visible group/item"),role:"listitem",children:E},a)},[r,m,w]),U=e.useMemo(()=>Array.from({length:O},(t,a)=>s.jsx("ul",{className:p("flex items-center",r&&"flex-col"),role:"list","aria-hidden":a>0,ref:a===0?R:void 0,children:o.map((x,b)=>H(x,`${a}-${b}`))},`copy-${a}`)),[O,o,H,r]),G=e.useMemo(()=>({width:r?I(i)==="100%"?void 0:I(i):I(i)??"100%",...F,...N}),[i,F,N,r]);return s.jsxs("div",{ref:u,className:W,style:G,role:"region","aria-label":z,children:[M&&s.jsx(s.Fragment,{children:r?s.jsxs(s.Fragment,{children:[s.jsx("div",{"aria-hidden":!0,className:p("pointer-events-none absolute inset-x-0 top-0 z-10","h-[clamp(24px,8%,120px)]","bg-[linear-gradient(to_bottom,var(--logoloop-fadeColor,var(--logoloop-fadeColorAuto))_0%,rgba(0,0,0,0)_100%)]")}),s.jsx("div",{"aria-hidden":!0,className:p("pointer-events-none absolute inset-x-0 bottom-0 z-10","h-[clamp(24px,8%,120px)]","bg-[linear-gradient(to_top,var(--logoloop-fadeColor,var(--logoloop-fadeColorAuto))_0%,rgba(0,0,0,0)_100%)]")})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{"aria-hidden":!0,className:p("pointer-events-none absolute inset-y-0 left-0 z-10","w-[clamp(24px,8%,120px)]","bg-[linear-gradient(to_right,var(--logoloop-fadeColor,var(--logoloop-fadeColorAuto))_0%,rgba(0,0,0,0)_100%)]")}),s.jsx("div",{"aria-hidden":!0,className:p("pointer-events-none absolute inset-y-0 right-0 z-10","w-[clamp(24px,8%,120px)]","bg-[linear-gradient(to_left,var(--logoloop-fadeColor,var(--logoloop-fadeColorAuto))_0%,rgba(0,0,0,0)_100%)]")})]})}),s.jsx("div",{className:p("flex will-change-transform select-none relative z-0","motion-reduce:transform-none",r?"flex-col h-max w-full":"flex-row w-max"),ref:A,onMouseEnter:Y,onMouseLeave:B,children:U})]})});Z.displayName="LogoLoop";export{Z as LogoLoop,Z as default};
